# å›¾åƒå°ºå¯¸è°ƒæ•´å·¥ä½œæµ

## æ¦‚è¿°

ä¸“ä¸šçš„å›¾åƒå°ºå¯¸è°ƒæ•´å·¥å…·ï¼Œæä¾›ç²¾ç¡®çš„åˆ†è¾¨ç‡æ§åˆ¶å’Œå¤šç§é«˜è´¨é‡ç¼©æ”¾ç®—æ³•ã€‚æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œå¯å¿«é€Ÿå°†å›¾åƒè°ƒæ•´åˆ°æŒ‡å®šå°ºå¯¸ï¼ŒåŒæ—¶ä¿æŒæœ€ä½³çš„è§†è§‰è´¨é‡ã€‚

## å·¥ä½œæµç‰¹ç‚¹

- ğŸ¯ **ç²¾ç¡®æ§åˆ¶**ï¼šè‡ªå®šä¹‰è¾“å‡ºå®½åº¦å’Œé«˜åº¦
- ğŸ”§ **å¤šç§ç®—æ³•**ï¼š5ç§ä¸“ä¸šç¼©æ”¾ç®—æ³•å¯é€‰
- ğŸ“ **æ™ºèƒ½è£å‰ª**ï¼šæ”¯æŒä¸­å¿ƒè£å‰ªå’Œæ‹‰ä¼¸é€‚é…
- ğŸš€ **é«˜æ•ˆå¤„ç†**ï¼šä¼˜åŒ–çš„å¤„ç†æµç¨‹ï¼Œå¿«é€Ÿå®Œæˆ
- ğŸ¨ **è´¨é‡ä¿è¯**ï¼šä¿æŒåŸå§‹å›¾åƒçš„è‰²å½©å’Œç»†èŠ‚

## ä¸»è¦å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | é»˜è®¤å€¼ | è¯´æ˜ |
|--------|------|------|--------|------|
| input_image | string | âœ… | - | è¾“å…¥å›¾åƒè·¯å¾„ |
| width | number | âŒ | 512 | ç›®æ ‡å®½åº¦ï¼ˆåƒç´ ï¼‰ |
| height | number | âŒ | 512 | ç›®æ ‡é«˜åº¦ï¼ˆåƒç´ ï¼‰ |
| upscale_method | string | âŒ | nearest-exact | ç¼©æ”¾ç®—æ³•é€‰æ‹© |
| crop | string | âŒ | center | è£å‰ªæ¨¡å¼ |
| filename_prefix | string | âŒ | ComfyUI | è¾“å‡ºæ–‡ä»¶åå‰ç¼€ |
| output_dir | string | âŒ | - | è¾“å‡ºç›®å½•ï¼ˆç³»ç»Ÿè‡ªåŠ¨æä¾›ï¼‰ |

### ç¼©æ”¾ç®—æ³•è¯´æ˜

- **nearest-exact**ï¼šæœ€è¿‘é‚»ç®—æ³•ï¼Œå¤„ç†é€Ÿåº¦æœ€å¿«ï¼Œé€‚åˆåƒç´ é£æ ¼å›¾åƒ
- **bilinear**ï¼šåŒçº¿æ€§æ’å€¼ï¼Œé€Ÿåº¦å’Œè´¨é‡å¹³è¡¡ï¼Œé€‚åˆä¸€èˆ¬ç”¨é€”
- **area**ï¼šåŒºåŸŸæ’å€¼ï¼Œç¼©å°å›¾åƒæ—¶æ•ˆæœæœ€ä½³
- **bicubic**ï¼šåŒä¸‰æ¬¡æ’å€¼ï¼Œæ”¾å¤§å›¾åƒæ—¶è´¨é‡è¾ƒå¥½
- **lanczos**ï¼šLanczosé‡é‡‡æ ·ï¼Œæœ€é«˜è´¨é‡ï¼Œé€‚åˆè¦æ±‚ä¸¥æ ¼çš„åœºæ™¯

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ä½¿ç”¨

```python
# å°†å›¾åƒç¼©æ”¾åˆ° 1024x1024
result = await client.run_workflow(
    workflow_name="image_scale_resize",
    category="image-to-image",
    params={
        "input_image": "/path/to/image.jpg",
        "width": 1024,
        "height": 1024
    }
)
```

### åˆ¶ä½œç¼©ç•¥å›¾

```python
# åˆ›å»º 256x256 çš„ç¼©ç•¥å›¾ï¼Œä½¿ç”¨é«˜è´¨é‡ç®—æ³•
result = await client.run_workflow(
    workflow_name="image_scale_resize",
    category="image-to-image",
    params={
        "input_image": "/path/to/large_image.png",
        "width": 256,
        "height": 256,
        "upscale_method": "lanczos",
        "crop": "center",
        "filename_prefix": "thumbnail"
    }
)
```

### æ‰¹é‡å¤„ç†

```python
# æ‰¹é‡å°†å›¾åƒè°ƒæ•´ä¸ºç½‘é¡µé€‚ç”¨å°ºå¯¸
images = ["photo1.jpg", "photo2.jpg", "photo3.jpg"]
for img in images:
    result = await client.run_workflow(
        workflow_name="image_scale_resize",
        category="image-to-image",
        params={
            "input_image": f"/images/{img}",
            "width": 800,
            "height": 600,
            "upscale_method": "area",  # ç¼©å°æ—¶æ•ˆæœæœ€ä½³
            "output_dir": "/output/web_images/"
        }
    )
```

### ä¿æŒå®½é«˜æ¯”

```python
# è®¾ç½®å®½åº¦ï¼Œé«˜åº¦è‡ªåŠ¨è®¡ç®—ï¼ˆéœ€è¦å…ˆè·å–åŸå§‹å›¾åƒå°ºå¯¸ï¼‰
result = await client.run_workflow(
    workflow_name="image_scale_resize",
    category="image-to-image",
    params={
        "input_image": "/path/to/image.jpg",
        "width": 1920,
        "height": 1080,  # 16:9 æ¯”ä¾‹
        "crop": "center",  # ä¸­å¿ƒè£å‰ªä¿æŒæ¯”ä¾‹
        "upscale_method": "bicubic"
    }
)
```

## åº”ç”¨åœºæ™¯

1. **ç½‘ç«™ä¼˜åŒ–**ï¼šæ‰¹é‡è°ƒæ•´å›¾ç‰‡å°ºå¯¸ï¼Œå‡å°‘åŠ è½½æ—¶é—´
2. **ç¼©ç•¥å›¾ç”Ÿæˆ**ï¼šä¸ºå›¾åº“åˆ›å»ºç»Ÿä¸€å°ºå¯¸çš„é¢„è§ˆå›¾
3. **ç¤¾äº¤åª’ä½“**ï¼šè°ƒæ•´å›¾ç‰‡ä»¥ç¬¦åˆå¹³å°è¦æ±‚
4. **æ‰“å°å‡†å¤‡**ï¼šè°ƒæ•´åˆ†è¾¨ç‡ä»¥é€‚åº”æ‰“å°éœ€æ±‚
5. **å­˜å‚¨ä¼˜åŒ–**ï¼šç¼©å°å›¾ç‰‡å°ºå¯¸èŠ‚çœå­˜å‚¨ç©ºé—´

## æ³¨æ„äº‹é¡¹

- è¾“å…¥å›¾åƒè·¯å¾„å¿…é¡»æ˜¯æœ‰æ•ˆçš„æœ¬åœ°æ–‡ä»¶è·¯å¾„
- è¿‡åº¦æ”¾å¤§å¯èƒ½å¯¼è‡´å›¾åƒè´¨é‡ä¸‹é™ï¼Œå»ºè®®æ”¾å¤§å€æ•°ä¸è¶…è¿‡2å€
- é€‰æ‹©åˆé€‚çš„ç¼©æ”¾ç®—æ³•ï¼šç¼©å°ç”¨areaï¼Œæ”¾å¤§ç”¨bicubicæˆ–lanczos
- cropè®¾ä¸º"disabled"æ—¶å›¾åƒå¯èƒ½å˜å½¢ï¼Œå»ºè®®ä½¿ç”¨"center"ä¿æŒæ¯”ä¾‹
- è¾“å‡ºæ–‡ä»¶å°†ä¿å­˜ä¸ºPNGæ ¼å¼ä»¥ä¿æŒæœ€ä½³è´¨é‡