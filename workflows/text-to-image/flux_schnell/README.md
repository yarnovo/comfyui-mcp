# FLUX.1 Schnell 快速图像生成工作流

## 概述
FLUX.1 Schnell 是 FLUX 系列中专为快速生成优化的模型版本，仅需 4 步即可生成高质量图像，是速度与质量的完美平衡。

## 工作流特点
- **模型**: FLUX.1 Schnell FP8 优化版
- **超快生成**: 仅需 4 步采样
- **低 CFG**: 优化为 CFG=1，无需调整
- **高分辨率**: 默认 1024x1024
- **简化流程**: 最少参数，最佳效果

## 主要参数

### 必需参数
- **positive_prompt**: 图像描述提示词

### 可选参数
- **negative_prompt**: 负向提示词（通常留空）
- **seed**: 随机种子（-1为随机）
- **steps**: 采样步数（固定为4）
- **cfg**: CFG强度（固定为1）
- **width**: 图像宽度（默认1024）
- **height**: 图像高度（默认1024）
- **batch_size**: 批次大小

## 使用示例

### 快速生成
```python
params = {
    "positive_prompt": "一只可爱的卡通猫咪坐在彩虹上"
}
```

### 详细描述
```python
params = {
    "positive_prompt": "超现实主义风格，一个漂浮的水晶球内部包含着微缩的森林生态系统，阳光透过水晶折射出七彩光芒，背景是深邃的星空",
    "seed": 12345,
    "width": 1280,
    "height": 768
}
```

### 批量生成
```python
params = {
    "positive_prompt": "赛博朋克城市夜景，霓虹灯光，雨天",
    "batch_size": 4,
    "seed": -1  # 随机种子生成不同变体
}
```

## FLUX.1 Schnell 特性

### 为什么只需 4 步？
FLUX.1 Schnell 通过蒸馏技术从完整 FLUX 模型中提取精华，专门优化了采样过程：
- **蒸馏优化**: 从教师模型学习，保留关键特征
- **固定流程**: 4步采样路径经过精心调优
- **质量保证**: 虽然步数少，但质量接近完整模型

### CFG=1 的含义
- **无条件引导**: 不需要平衡正负提示词
- **更快收敛**: 减少计算开销
- **稳定输出**: 降低生成的不确定性

## 提示词技巧

### 基础结构
1. **主体描述**: 明确说明图像的主要对象
2. **风格指定**: 艺术风格、渲染方式
3. **环境细节**: 背景、光线、氛围
4. **质量标签**: 高质量、细节丰富等

### 有效提示词示例

#### 人物肖像
```
"专业摄影，年轻女性肖像，自然光，柔和散景背景，温暖色调，8K画质"
```

#### 风景场景
```
"黄金时刻的山谷风景，雾气缭绕，远山如黛，前景野花盛开，电影级构图"
```

#### 概念艺术
```
"科幻概念艺术，巨型机械生物在废墟城市中行走，史诗级场景，体积光照"
```

#### 产品展示
```
"产品摄影，豪华手表特写，黑色背景，专业布光，反射高光，商业级质量"
```

## 分辨率建议

### 常用比例
- **1:1** - 1024x1024（默认）
- **16:9** - 1280x720, 1920x1080
- **9:16** - 720x1280（竖屏）
- **4:3** - 1024x768
- **3:4** - 768x1024

### 性能考虑
- **标准**: 1024x1024 - 最佳速度与质量平衡
- **高清**: 1280x1280 - 更多细节，稍慢
- **超清**: 1536x1536 - 最高细节，需要更多显存

## 与其他 FLUX 版本对比

| 特性 | Schnell | Dev | Pro |
|-----|---------|-----|-----|
| 采样步数 | 4 | 20-50 | 20-50 |
| CFG 范围 | 1 | 1-10 | 1-15 |
| 生成速度 | 极快 | 中等 | 较慢 |
| 质量 | 良好 | 优秀 | 极佳 |
| 适用场景 | 快速预览、实时生成 | 标准创作 | 专业产出 |

## 常见应用场景

### 快速原型
- 创意探索和概念验证
- 快速生成多个设计方案
- 实时交互应用

### 批量生成
- 素材库构建
- A/B 测试素材
- 社交媒体内容

### 实时应用
- 交互式生成工具
- 游戏资产生成
- 即时创意可视化

## 优化建议

### 提高生成速度
1. 使用默认参数（4步，CFG=1）
2. 适度降低分辨率
3. 使用 FP8 量化模型

### 提高图像质量
1. 编写详细具体的提示词
2. 使用高质量相关的参考词汇
3. 指定明确的艺术风格

### 批量处理
1. 设置不同的种子值生成变体
2. 使用 batch_size 一次生成多张
3. 准备提示词列表批量处理

## 故障排除

### 图像模糊
- 添加"高清"、"锐利"、"细节丰富"等质量词
- 确保提示词具体明确

### 构图问题
- 明确指定构图方式（特写、全景、中景等）
- 使用摄影术语指导构图

### 色彩问题
- 指定色彩风格（鲜艳、柔和、单色等）
- 描述具体的色彩方案

## 输出说明
- 图像保存在 ComfyUI 输出目录
- 支持 PNG 格式高质量输出
- 保留完整的生成元数据

## 注意事项
1. Schnell 版本专为速度优化，不支持调整步数
2. CFG 值固定为 1 以获得最佳性能
3. 负向提示词在 Schnell 中作用有限
4. 适合需要快速迭代的创作流程